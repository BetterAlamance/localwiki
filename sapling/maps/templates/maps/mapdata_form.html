{% extends "maps/base.html" %}
{% block media %}
{{ block.super }}
{{ form.media }}

<script type="text/javascript">
    function size_map() {
        $('.mapwidget').height(
            ($(window).height() - $('#header').height() - $('#main_header').height() -
            $('#content_header').height()) - $('#content_footer').height()
        );
    }
    /* Hacky! */
    setTimeout('size_map()', 50);
    $(window).resize(size_map);
</script>
{% endblock %}

{% block title %}Editing map for "{{ form.instance.page.name }}" - {{ block.super }}{% endblock %}

{% block header_title %}Editing map for "{{ form.instance.page.name }}"{% endblock %}
    
{% block content %}
    <form method="post" action="">{% csrf_token %}
      {{ form.geom }}
      {{ form.version_date }}

      {% block content_footer %}
      <div id="content_footer">
        <div id="editor_actions">
          <input type="submit" value="Save"/>
          <a href=".">Cancel</a>
          {% with form.instance as map %}
            {% include "maps/editor_actions.html" %}
          {% endwith %}
        </div>
      </div>
      {% endblock %}
    </form>
{% endblock %}
